<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE digester-rules PUBLIC "-//Jakarta Apache //DTD digester-rules XML V1.0//EN" "digester-rules.dtd">
<digester-rules>
	<pattern value="accounts/account">
		<object-create-rule classname="com.googlecode.gmail2ldap.config.Account" />
		<set-properties-rule />
		<bean-property-setter-rule pattern="email" />
		<bean-property-setter-rule pattern="password" />
		<set-next-rule methodname="add" paramtype="com.googlecode.gmail2ldap.config.Account" />
	</pattern>

	<pattern value="kml/Document">
		<object-create-rule classname="com.spotimage.marty.core.model.Map" />
		<set-properties-rule />
		<bean-property-setter-rule pattern="name" />
		<bean-property-setter-rule pattern="description" />
		<set-next-rule methodname="add" paramtype="com.spotimage.marty.core.model.Map" />
	</pattern>
	<pattern value="kml/Document/Placemark">
		<object-create-rule classname="com.spotimage.marty.core.model.Geometry" />
		<set-properties-rule>
			<alias attr-name="id" prop-name="uid" />
		</set-properties-rule>  
		<bean-property-setter-rule pattern="name" />
		<bean-property-setter-rule pattern="description" />
		<set-next-rule methodname="addGeometry" paramtype="com.spotimage.marty.core.model.Geometry" />
	</pattern>
	<pattern value="*/ExtendedData/atom:entry">
		<object-create-rule classname="com.spotimage.marty.core.model.atom.Entry" />
		<set-properties-rule />
		<bean-property-setter-rule pattern="name" />
		<bean-property-setter-rule pattern="description" />
		<pattern value="atom:category">
			<object-create-rule classname="com.spotimage.marty.core.model.atom.Category" />
			<set-properties-rule>
				<alias attr-name="xml:lang" prop-name="lang" />
			</set-properties-rule>
			<bean-property-setter-rule pattern="term" />
			<bean-property-setter-rule pattern="label" />
			<set-next-rule methodname="addCategory" paramtype="com.spotimage.marty.core.model.atom.Category" />
		</pattern>
		<pattern value="atom:contributor">
			<object-create-rule classname="com.spotimage.marty.core.model.atom.Contributor" />
			<set-properties-rule />
			<bean-property-setter-rule pattern="atom:name" propertyname="name"/>
			<bean-property-setter-rule pattern="atom:email" propertyname="email"/>
			<bean-property-setter-rule pattern="atom:uri" propertyname="uri"/>
			<set-next-rule methodname="addContributor" paramtype="com.spotimage.marty.core.model.atom.Contributor" />
		</pattern>
		<set-next-rule methodname="addEntry" paramtype="com.spotimage.marty.core.model.atom.Entry" />
	</pattern>
	<pattern value="*/Polygon">
		<object-create-rule classname="com.spotimage.marty.core.model.Polygon" />
		<set-properties-rule />
		<bean-property-setter-rule pattern="outerBoundaryIs/LinearRing/coordinates" propertyname="coordinates"/>
		<set-next-rule methodname="addPolygon" paramtype="com.spotimage.marty.core.model.Polygon" />
	</pattern>
	<pattern value="*/LineString">
		<object-create-rule classname="com.spotimage.marty.core.model.LineString" />
		<set-properties-rule />
		<bean-property-setter-rule pattern="coordinates" propertyname="coordinates"/>
		<set-next-rule methodname="addLineString" paramtype="com.spotimage.marty.core.model.LineString" />
	</pattern>
	<pattern value="*/Point">
		<object-create-rule classname="com.spotimage.marty.core.model.Point" />
		<set-properties-rule />
		<bean-property-setter-rule pattern="coordinates" propertyname="coordinates"/>
		<set-next-rule methodname="addPoint" paramtype="com.spotimage.marty.core.model.Point" />
	</pattern>
</digester-rules>